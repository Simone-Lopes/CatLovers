<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>CatLovers | Simulador</title>

  <script src="../js/funcoes.js"></script>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/simulador.css">

  <link rel="icon" href="../assets/icon/favicon.png">

</head>

<body>

  <!-- Navbar superior -->
  <div class="header">
    <div class="container">

      <div class="logo">
        <img class="logo" src="../assets/imgs/Logotipo-horizontal.png" alt="logo catlovers">
      </div>

      <div class="org-nav-bar">
        <ul class="navbar">
          <li class="paginas"><a href="catblog.html">CatBlog</a></li>
          <li class="paginas"><a href="adocao.html">Adoção</a></li>
          <li class="agora"><a href="simulador.html">Simulador</a></li>
          <li class="paginas"><a href="dashboard.html">Dashboard</a></li>
        </ul>
        <ul class="navbar2">
          <li class="paginas"><a href="cadastroGato.html">Cadastrar Gato</a></li>
          <li>|</li>
          <li class="paginas"><a onclick="limparSessao()" href="../index.html">Sair</a></li>
        </ul>
      </div>

    </div>
  </div>

  <!-- Banner do simulado -->
  <div class="simulador">
    <div class="banner-simulado" id="banner_simulado">
      <div class="banner-text">
        <h1>Inicie seu <span>simulado</span></h1>
        <p>Tenha uma média para preparo financeiro antes da adoção</p>
        <a href='#'><button onclick="iniciar()" class="button-more">INICIAR</button></a>
      </div>
    </div>

    <!-- Iniciando perguntas -->
    <div class="banner-perguntas" id="banner_perguntas">
      <h1>Simulador <span>Financeiro</span></h1>
      <p id="subtitulo">Responda as seguintes perguntas para obter uma média de gastos antes de adotar um gato.</p>
      <div class="container-simulador">

        <!-- primeira coluna de perguntas -->
        <div class="divisoes">
          <div>
            <p>Qual a idade do gato que você quer adotar?</p>
            <select id="select_idade">
              <option disabled selected>Selecione...</option>
              <option value="filhote">Filhote</option>
              <option value="jovem">Jovem</option>
              <option value="adulto">Adulto</option>
              <option value="idoso">Idoso</option>
            </select>
          </div>

          <div>
            <p>Escolha a marca de ração que seu gato irá comer:</p>
            <select id="select_racao">
              <option disabled selected>Selecione...</option>
              <option value=0>Whiskas</option>
              <option value=1>Friskies</option>
              <option value=2>Golden</option>
              <option value=3>GranPlus</option>
              <option value=4>Premier</option>
              <option value=5>Purina</option>
            </select>
          </div>

          <div>
            <p>Como será o banheiro do seu gato?</p>
            <select id="select_banheiro">
              <option disabled selected>Selecione...</option>
              <option value=0>Areia granulada</option>
              <option value=1>Cristais de Sílica</option>
              <option value=2>Tapete higiênico</option>
            </select>
          </div>

        </div>
        <!-- segunda coluna de perguntas -->
        <div class="divisoes">

          <div>
            <p id="textoJanela">Há telas nas janelas?</p>
            <div class="div-radio" id="div_janela">

              <input id="input_SJ" type="radio" name="gender" value="sim" onclick="input('sim')">
              <span for="sim">Sim</span>
              <input id="input_NJ" type="radio" name="gender1" value="nao" onclick="input('nao')">
              <span for="nao">Não</span>
              <input style="display: none;" type="number" min="0" placeholder="N° de janelas" id="input_numJanelas">
            </div>
          </div>

          <div>
            <p>Qual o intervalo dos remédios de vermifugação e de anti-pulgas?</p>
            <select id="select_remedios">
              <option disabled selected>Selecione...</option>
              <option value=0>6 meses (ideal)</option>
              <option value=1>8 meses</option>
              <option value=2>12 meses</option>
            </select>
          </div>

          <div>
            <p>O gato é castrado?</p>
            <select id="select_castrado">
              <option disabled selected>Selecione...</option>
              <option value="sim">Sim</option>
              <option value="nao">Não</option>
            </select>
          </div>

        </div>
      </div>
      <a href='#'><button onclick="simular()" class="button-simular">CALCULAR MÉDIA</button></a>

    </div>

    <!-- Respostas -->
    <div class="banner-perguntas" id="banner_resposta">
      <h1>Valores gastos em <span> 01 ano</span></h1>
      <div class="banner-container">
        <br><br>
        <div id="div_racao" class="racao"></div>
        <div id="div_lista" class="racao"></div>
      </div>
      <div class="div_descricao" id="div_descricao"></div>
      <div id="div_total" class="div_total"></div>

    </div>

  </div>
  <!-- Footer -->
  <div class="footer">
    <div class="container">

      <div class="footer-left">
        <img src="../assets/imgs/Logotipo-Vertical (2).png" alt="logo" width="200px">
      </div>

      <div class="footer-info">
        <h1>Compania</h1>
        <a class="footer-nav" href="../index.html">Home</a>
        <a class="footer-nav" href="../sobreNos.html">Sobre Nós</a>
        <a class="footer-nav" href="../faleConosco.html">Fale Conosco</a>
      </div>

      <div class="footer-info">
        <h1>Usuário</h1>
        <a class="footer-nav" href="../login.html">Login</a>
        <a class="footer-nav" href="../cadastro.html">Cadastro</a>
        <a class="footer-nav" href="./cadastroGato.html">Cadastrar gato</a>
      </div>

      <div class="footer-info">
        <h1>Gatinhos</h1>
        <a class="footer-nav" href="./adocao.html">Adoção</a>
        <a class="footer-nav" href="./catblog.html">CatBlog</a>
        <a class="footer-nav" href="./simulador.html">Simulação</a>
      </div>

    </div>
  </div>
</body>

</html>
<script>

  //Esse contador será o valor total de gastos
  var contador = 0;

  // Criando vetores com a marca das rações e com a média dos valores
  var listaRacao = ["Whiskas", "Friskies", "Golden", "GranPlus", "Premier", "Purina"];
  var listaRacaoValores = [30.00, 15.00, 61.90, 27.90, 28.90, 16.39];

  // Criando vetores com o tipo de banheiro e valores
  var listaBanheiro = ["Areia granulada", "Cristais de Sílica", "Tapete higiênico"];
  var listaBanheiroValores = [12.00, 29.99, 34.90];

  // Criando vetores com o tipo de remedio e valores
  var listaRemedio = ["Vermifuga", " Anti-pulgas"];
  var listaRemedioValores = [20.00, 18.00];


  //Função input e radio
  function input(resp) {
    if (resp == "nao") {
      textoJanela.innerHTML += `<br>Digite quantas janelas não possuem tela:`
      input_numJanelas.style.display = 'block'
    } else {
      input_numJanelas.style.display = 'none'
    }
  }

  function iniciar() {
    // Alterando visibilidade das divs
    banner_simulado.style.display = 'none';
    banner_perguntas.style.display = 'flex';
    banner_resposta.style.display = 'none';
  }

  
  var marcaRacao = 0;
 

  function simular() {
    banner_perguntas.style.display = 'none';
    banner_resposta.style.display = 'flex';

    // Coletando inputs e armazenando em variaveis
    var idade = select_idade.value;
    var racao = Number(select_racao.value);
    var banheiro = Number(select_banheiro.value);
    var janela = input_SJ.value;
    var janelaNao = input_NJ.value;
    var numJanelas = Number(input_numJanelas.value);
    var remedios = Number(select_remedios.value);
    var castrado = select_castrado.value;
    
    //Iniciando soma de valores

    // Valor e quantidade da ração
    listaRacao.push;
    listaRacaoValores.push;


    for (var i = 0; i < listaRacaoValores.length; i++) {
      if (listaRacaoValores[i] == racao) {
        racao += listaRacaoValores[i];
        marcaRacao = listaRacao[i]
      }
    }

    // ANOTAÇÕES
    // no ano o filhote come 1.400kg
    // no ano o jovem come 1.680kg
    // no ano o adulto come 1.960kg
    // no ano o idoso come 2.240kg

    if (idade == 'filhote') {
      var racaoFilhote = listaRacaoValores[racao] * 8 //pacotes por ano
      console.log(racaoFilhote);
      contador = contador + racaoFilhote;
      div_racao.innerHTML += `Seu gatinho filhote come 1.400kg de ração por semana, logo, você vai gastar aproximadamente R$${racaoFilhote} por ano com a ração ${listaRacao[racao]}.<br>`;

    } else if (idade == 'jovem') {
      var racaoJovem = listaRacaoValores[racao] * 10 //pacotes por ano
      contador = contador + racaoJovem;
      div_racao.innerHTML += `Seu gatinho jovem come 1.680kg de ração por semana, logo, você vai gastar aproximadamente R$${racaoJovem} por ano com a ração ${listaRacao[racao]}.<br>`;

    } else if (idade == 'adulto') {
      var racaoAdulto = listaRacaoValores[racao] * 11 //pacotes por ano
      contador = contador + racaoAdulto;
      div_racao.innerHTML += `Seu gatinho adulto come 1.960kg de ração por semana, logo, você vai gastar aproximadamente R$${racaoAdulto} por ano com a ração ${listaRacao[racao]}.<br>`;

    } else if (idade == 'idoso') {
      var racaoIdoso = listaRacaoValores[racao] * 12 //pacotes por ano
      contador = contador + racaoIdoso;
      div_racao.innerHTML += `Seu gatinho idoso come 2.240kg de ração por semana, logo, você vai gastar aproximadamente R$${racaoIdoso} por ano com a ração ${listaRacao[racao]} de 2kg.<br>`;
    }

    var totalBanheiro = 0;
    for (var i = 0; i < listaBanheiroValores.length; i++) {
    if (i == banheiro) { 
    totalBanheiro = listaBanheiroValores[i] * 12;
    contador = contador + totalBanheiro;
  }
}

    //Se há janelas e multiplicação
    if (janelaNao == 'nao') {
      var totalJanela = numJanelas * 20;
      contador = contador + totalJanela;
    }

    //Valor e periodo dos remedios
    listaRemedio.push;
    listaRemedioValores.push;

    var valorRemedio = 20 + 18;
    var tipoRemedio = listaRemedio[remedios];

    if (remedios == 0) {
      valorRemedio = valorRemedio * 2 //6 meses
      contador = contador + valorRemedio;

    } else if (remedios == 1) {
      valorRemedio = (valorRemedio * 3) / 2 //8 meses
      contador = contador + valorRemedio;

    } else if (remedios == 2) {
      contador = contador + valorRemedio;
    }

    var valorCastração = 0;
    //Se o gato é castrado
    if (castrado == 'nao') {
      valorCastração = 300.00
      contador += valorCastração;
    }


    alert(contador);
    console.log(contador);

    div_lista.innerHTML += `      Banheiro: R$${parseInt(totalBanheiro)} de ${listaBanheiro[banheiro]}<br>
                                        Telas na janela: ${numJanelas} janelas vai custar R$${totalJanela}<br>
                                        Remedios: R$${valorRemedio} em ${listaRemedio}<br>
                                        Castração: R$${valorCastração}<br>
                                        `;
    div_descricao.innerHTML = `<p>Adotar um gato é uma grande <b>responsabilidade</b> e envolve dinheiro e muito amor para garantir uma vida de qualidade para o pet. O <b>primeiro ano</b> é o que envolve mais gastos para receber e adaptar o seu felino ${idade} em casa. Cerca de R$${parseInt(contador / 12)} por mês, o valor total é baseado em uma <b>média</b>.</p>`;
    div_total.innerHTML = `<h1>Valor total: <span>R$${parseInt(contador)}</span></h1>`;
  }
</script>

<!-- média de ${(contador * 1320) / 12}% -->